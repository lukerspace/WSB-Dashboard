select count(*) as num_mentions, stock_id , symbol from mention join stock on stock.id = mention.stock_id group by stock_id , symbol order by num_mentions DESC;


select count(*) as num_mentions , symbol from mention join stock on stock.id = mention.stock_id group by stock_id , symbol order by num_mentions DESC;

postgres=# \encoding
UTF8
postgres=# show server_encoding;
 server_encoding 
-----------------
 UTF8
(1 row)

postgres=# show client_encoding;
 client_encoding 
-----------------
 UTF8
(1 row)

postgres=# set client_encoding = GBK;
SET
postgres=# show client_encoding;
 client_encoding 
-----------------
 GBK
(1 row)

postgres=# insert into test values(1, '中國-GBK', now());
ERROR:  character with byte sequence 0xad 0xe5 in encoding "GBK" has no equivalent in encoding "UTF8"
postgres=# 